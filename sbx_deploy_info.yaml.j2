metadata:
  namespace: {{ CONDUCKTOR_NS }}
  releaseName: {{ CI_PROJECT_NAME }}-{{ CI_COMMIT_REF_SLUG }}
  releaseVersion: {{ RELEASE_VERSION }}
  target: {{ CONDUCKTOR_TARGET }}
  iamRole: null
replicaCount: 1
nodeLabel: agent
image:
  repository: {{ CI_REGISTRY_IMAGE }}:{{ RELEASE_VERSION }}
  pullPolicy: Always
  pullSecrets:
    - name: gitlab-docker-registry-token

container:
  multiPorts:
    - name: admin
      containerPort: 4000
      protocol: TCP
  healthcheck:
    path: /health
    scheme: HTTP
    portName: admin
resources:
  requests:
    cpu: 0.1
    memory: 16Mi
  limits:
    cpu: 0.2
    memory: 768Mi

ingress:
  enabled: true
  ingressType: HTTP
  applicationType: internal
  serviceEndpoint: {{ CI_COMMIT_REF_SLUG }}-qlkube.web.css.kube.t-mobile.com
  multiPaths:
    - path: /
      portName: admin

tls:
  enabled: true
  secretName: "conducktor-certificate"

autoscale:
  enabled: false
  minReplicas: 2
  maxReplicas: 5
  cpuAverageUtilization: 50

global:
  ttl: 5d
  expiresAt: ""